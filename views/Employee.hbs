<link href="/Admin/css/sb-admin-2.min.css" rel="stylesheet">
<body onload="myFunction()">


    <div id="loading"></div>

<!-- Page Wrapper -->
  <div id="wrapper">
    <!-- Side Navigation Bar Start -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

      <!-- Sidebar - Brand -->
      <a class="sidebar-brand d-flex align-items-center justify-content-center" href="/Admin">
        <div class="sidebar-brand-icon rotate-n-15">
          <i class="fas fa-laugh-wink"></i>
        </div>
        <div class="sidebar-brand-text mx-3">Admin</div>
      </a>

      <!-- Divider -->
      <hr class="sidebar-divider my-0">

      <!-- Nav Item - Dashboard -->
      <li class="nav-item active">
        <a class="nav-link" href="/Admin">
          <i class="fas fa-fw fa-tachometer-alt"></i>
          <span>Dashboard</span></a>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider">

      <!-- Heading -->
      <div class="sidebar-heading">
        SHASHIKA IMPORTS
      </div>

      <!-- Nav Item - Pages Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="/Employee/" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
          <i class="fas fa-fw fa-folder"></i>
          <span>Employee</span>
        </a>

      </li>

      <!-- Nav Item - Utilities Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="/Vehicle/" data-toggle="collapse" data-target="#collapseUtilities" aria-expanded="true" aria-controls="collapseUtilities">
        <i class="fas fa-fw fa-folder"></i>
          <span>Vehicle</span>
        </a>

      </li>

         <li class="nav-item">
        <a class="nav-link collapsed" href="/Sparts/" data-toggle="collapse" data-target="#collapseUtilities" aria-expanded="true" aria-controls="collapseUtilities">
        <i class="fas fa-fw fa-folder"></i>
          <span>Spare parts</span>
        </a>

      </li>


  <!-- Divider -->
      <hr class="sidebar-divider">

      <!-- Heading -->
      <div class="sidebar-heading">
         Seller from Out Side
      </div>


      <!-- Nav Item - Utilities Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="/Vehicle/" data-toggle="collapse" data-target="#collapseUtilities" aria-expanded="true" aria-controls="collapseUtilities">
        <i class="fas fa-fw fa-folder"></i>
          <span>Vehicle</span>
        </a>

      </li>

         <li class="nav-item">
        <a class="nav-link collapsed" href="/Sparts/" data-toggle="collapse" data-target="#collapseUtilities" aria-expanded="true" aria-controls="collapseUtilities">
        <i class="fas fa-fw fa-folder"></i>
          <span>Spare parts</span>
        </a>

      </li>









      <!-- Divider -->
      <hr class="sidebar-divider">

      <!-- Heading -->
      <div class="sidebar-heading">
        Tables
      </div>

      <!-- Nav Item - Pages Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="/photos/" data-toggle="collapse" data-target="#collapsePages" aria-expanded="true" aria-controls="collapsePages">
          <i class="fas fa-fw fa-folder"></i>
          <span>Pages</span>
        </a>
      </li>

      <!-- Nav Item - Charts -->
      <li class="nav-item">
        <a class="nav-link" href="/Chart/">
          <i class="fas fa-fw fa-chart-area"></i>
          <span>Charts</span></a>
      </li>
      
      <!-- Promotion -->
      <li class="nav-item">
        <a class="nav-link" href="/Promotion/">
          <i class="fas fa-fw fa-table"></i>
          <span>Promotion</span></a>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider d-none d-md-block">

      <!-- Sidebar Toggler (Sidebar) -->
      <div class="text-center d-none d-md-inline">
        <button class="rounded-circle border-0" id="sidebarToggle"></button>
      </div>

    </ul>
    <!-- End of the side navigation Bar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
      <div id="content">




        <!-- Topbar -->
        <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

          <!-- Sidebar Toggle (Topbar) -->
          <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
            <i class="fa fa-bars"></i>
          </button>

          <!-- Topbar Search -->
          <form class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search">
            <div class="input-group">
              <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
              <div class="input-group-append">
                <button class="btn btn-primary" type="button">
                  <i class="fas fa-search fa-sm"></i>
                </button>
              </div>
            </div>
          </form>

          <!-- Topbar Navbar -->
          <ul class="navbar-nav ml-auto">

            <!-- Nav Item - Search Dropdown (Visible Only XS) -->
            <li class="nav-item dropdown no-arrow d-sm-none">
              <a class="nav-link dropdown-toggle" href="#" id="searchDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-search fa-fw"></i>
              </a>
              <!-- Dropdown - Messages -->
              <div class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in" aria-labelledby="searchDropdown">
                <form class="form-inline mr-auto w-100 navbar-search">
                  <div class="input-group">
                    <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
                    <div class="input-group-append">
                      <button class="btn btn-primary" type="button">
                        <i class="fas fa-search fa-sm"></i>
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </li>

        
            <div class="topbar-divider d-none d-sm-block"></div>

            <!-- Nav Item - User Information -->
            <li class="nav-item dropdown no-arrow">
              <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="mr-2 d-none d-lg-inline text-gray-600 small">ADMIN</span>
                <img class="img-profile rounded-circle" src="https://cdn.shopify.com/s/files/1/0580/2885/products/Sundown-Discord-Profile-Picture_large.gif?v=1582343086">
              </a>



          
            </li>

          </ul>

        </nav>
        <!-- End of Topbar -->



<br>
<br>

<div class="container">
  <center>
  <h2>Service Management</h2>

  <p>All working employee's details are shown on the table. This page facilitate manage al employee details</p>
  <br><br><br>
  
    </center>
    
    <div class="row">

<div class="col-md-2"></div>

<div class="col-md-8"><!--Form-->

<form class="horizontal" method="POST" action="/addUser">
  <div class="form-group">
    <label for="exampleInputEmail1" class="col-sm-2 control-label">Emp ID</label>
    <div class="col-sm-10">
    <input type="text" class="form-control" id="EmpID"  placeholder="Emp ID" name="EmpID" required>
    </div>
  </div>

<div class="form-group">
    <label for="exampleInputEmail1" class="col-sm-2 control-label">Name</label><br>
        <div class="col-sm-10">
    <input type="text" class="form-control" id="Name" aria-describedby="emailHelp" placeholder="Name" name="Name" required>
</div>
  </div>

  <div class="form-group">
    <label for="exampleInputEmail1" class="col-sm-2 control-label">Email</label>
        <div class="col-sm-10">
    <input type="email" class="form-control" id="Email" aria-describedby="emailHelp" placeholder="Email" name="Email" required>
</div>
  </div>

  <div class="form-group">
    <label for="exampleInputPassword1" class="col-sm-2 control-label">NIC</label>

        <div class="col-sm-10">
    <input type="text" class="form-control" id="nic" placeholder="NIC" name="nic" required>
    </div>
  </div>


  <div class="form-group">
    <label for="exampleInputPassword1" class="col-sm-2 control-label">Contact No</label>

        <div class="col-sm-10">
    <input type="number" class="form-control" id="ContactNo" placeholder="Contact No" name="ContactNo" required>
    </div>
  </div>

       <div class="form-group">
                    <label for="inputname" class="col-sm-4 control-label">Gender</label>
                    <div class="col-sm-10">
                          <select id="inputname" name="Gender" class="form-control" >

                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                          
                        </select>
                    </div>
                </div>

                

                 <div class="form-group">
                    <label for="inputname" class="col-sm-4 control-label">Position</label>
                    <div class="col-sm-10">
                          <select id="inputname" name="Position" class="form-control" >

                                       <option value="Admin">Admin</option>
                                       <option value="Accountant">Accountant</option>
                                       <option value="Manager">Manager</option>
                                       <option value="Vehicle_Manager">Vehicle Manager</option>
                                       <option value="Spare_Manager">Spare Parts</option>
                                


                        </select>
                    </div>
                </div>

    <div class="form-group">
    <label for="exampleInputPassword1" class="col-sm-2 control-label">Password</label>

        <div class="col-sm-10">
    <input type="password" class="form-control" id="Password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" placeholder="Password" name="Password" required>
    </div>
  </div>


<div class="form-group">
  <div class="co-sm-offset-2 col-sm-10">

<br><br>
  <button type="submit" class="btn btn-success">Add User</button>

</div>
</div>
</form>

</div><!-- form-->
</div>
    </div><!-- End-row-->











<br>
<br>
<br>

 <div class="row" style="margin-left: 100px;" >
<div class="col-md-2">

 <div class="search-bar">
        <input class="form-control my-0 py-1" type="text" placeholder="Search" aria-label="Search" id="myinput" onkeyup="searchFunction()"  style="width: 1150px;">

    </div>

   

 <table class="table table-hoves" style=" width: 1200px;">
          <thead>
                <th >Emp Id</th>
                <th>Name</th>
                <th>Email</th>
                <th>NIC</th>
                <th>Contact No</th>
                <th>Position</th> 
                 <th>Action</th>      
         </thead>

        <tbody id="table" >


            {{#each users}}
            <tr>

                <td>{{this.empid}}</td>
                <td>{{this.username}}</td>
                <td>{{this.email}}</td>
                <td>{{this.NIC}}</td>
                <td>{{this.contactno}}</td>
                <td>{{this.position}}</td>
           
                <td>
                  
                <a href="/edit/{{this.Id}}"><button class="btn btn-primary">Edit</button></a>
                
                <a  href="#"><button class="btn btn-primary" onclick="sweetalert_Delete()">Delete</button> </a>
              <a id="delete" href="/deleteuser/{{this.Id}}"></a>
                </td>

            </tr>


            {{/each}}




         </tbody>


        </table>
<br>
<br>
<br>
<br>
<br>
        </div>
        </div><!--main-Wrapper-->
      </div>
    </div>
  </div>
</body>

<script>
$(document).ready(function(){  
    $('#myinput').keyup(function(){  
         search_table($(this).val());  
    });  
    function search_table(value){  
         $('#table tr').each(function(){  
              var found = 'false';  
              $(this).each(function(){  
                   if($(this).text().toLowerCase().indexOf(value.toLowerCase()) >= 0)  
                   {  
                        found = 'true';  
                   }  
              });  
              if(found == 'true')  
              {  
                   $(this).show();  
              }  
              else  
              {  
                   $(this).hide();  
              }  
         });  
    }  
});  

	var preloader = document.getElementById("loading");
		function myFunction(){
		preloader.style.display = 'none';
		};

 function sweetalert_Delete(){
   	var preloader = document.getElementById("delete");
 Swal.fire({
			title: 'Are you sure?',
			text: "It will be deleted permanently!",
			type: 'warning',
			showCancelButton: true,
			confirmButtonColor: '#3085d6',
			cancelButtonColor: '#d33',
			confirmButtonText: 'Yes, delete it!',
			showLoaderOnConfirm: true,
        }).then((result) => {
            if (result.value) {
                preloader.click()
            }
        })

 }


</script>

<style>
#loading{
	position: fixed;
	width: 100%;
	height: 100vh;
	background: #fff
	url('https://miro.medium.com/max/1600/1*CsJ05WEGfunYMLGfsT2sXA.gif')
	 no-repeat center center;	
	z-index: 99999;
   opacity: 1;
}
  </style>